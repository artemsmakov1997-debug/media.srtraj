
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–ï–î–ò–ê.–°–¢–†–ê–ñ | –ê—Ä—Ö–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;900&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-body: #05070b;
            --bg-panel: #12141b;
            --bg-panel-soft: #151821;
            --border-color: #2c2f3b;

            --text-main: #ffffff;
            --text-muted: #8b8d96;

            --accent-blue: #22d3ee;
            --accent-blue-soft: rgba(34,211,238,0.25);
            --accent-cyan: #14b8a6;
            --accent-red: #ef4444;
            --accent-yellow: #eab308;
            --accent-green: #22c55e;
        }

        * {
            box-sizing: border-box;
            outline: none;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            background:
                radial-gradient(circle at top, rgba(15,23,42,0.55), transparent 60%),
                radial-gradient(circle at bottom, rgba(15,23,42,0.65), transparent 60%),
                var(--bg-body);
            color: var(--text-main);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px 80px 20px;
        }

        /* --- HEADER (–µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å) --- */

        header {
            position: sticky;
            top: 0;
            z-index: 20;
        }

        .header-inner {
            background: linear-gradient(
                180deg,
                rgba(15,23,42,0.96) 0%,
                rgba(15,23,42,0.94) 70%,
                rgba(15,23,42,0.88) 100%
            );
            backdrop-filter: blur(18px);
            border-bottom: 1px solid rgba(30,41,59,0.85);
            box-shadow: 0 18px 30px rgba(0,0,0,0.65);
        }

        .navbar {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .brand-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: 1.05rem;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: #e5e7eb;
            white-space: nowrap;
            opacity: 0.95;
        }

        .brand-title span {
            color: var(--accent-blue);
        }

        nav {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .nav-links {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 999px;
            background: radial-gradient(circle at top, rgba(31,41,55,0.9), transparent 70%);
        }

        nav a {
            position: relative;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            padding: 7px 14px;
            border-radius: 999px;
            transition: color 0.18s ease-out, background 0.18s ease-out;
        }

        nav a::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: radial-gradient(circle at top, rgba(34,211,238,0.2), transparent 70%);
            opacity: 0;
            transition: opacity 0.18s ease-out;
        }

        nav a span {
            position: relative;
            z-index: 1;
        }

        nav a:hover {
            color: #e5e7eb;
        }

        nav a:hover::before {
            opacity: 1;
        }

        .nav-active {
            color: #f9fafb;
            background: rgba(15,23,42,0.9);
            box-shadow:
                0 0 0 1px rgba(45,212,191,0.7),
                0 0 18px rgba(45,212,191,0.35);
        }

        .nav-active::before {
            opacity: 1;
        }

        .support-button {
            padding: 7px 18px;
            border-radius: 999px;
            border: 1px solid rgba(248, 250, 252, 0.4);
            font-weight: 600;
            background: linear-gradient(135deg, #facc15, #f97316);
            color: #020617;
            cursor: pointer;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.13em;
            box-shadow: 0 10px 26px rgba(0,0,0,0.8);
            white-space: nowrap;
        }

        .support-button:hover {
            filter: brightness(1.05);
        }

        @media (max-width: 720px) {
            .navbar {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }

            .brand-title {
                order: 1;
            }

            nav {
                order: 2;
                flex: 0 0 100%;
                justify-content: center;
            }

            .support-button {
                order: 3;
            }
        }

        .header-glow {
            height: 2px;
            width: 100%;
            background: radial-gradient(circle at center, rgba(34,211,238,0.9), transparent 70%);
            opacity: .55;
        }

        /* --- –°–µ–∫—Ü–∏—è –∞—Ä—Ö–∏–≤–∞ --- */

        .archive-section {
            max-width: 1120px;
            margin: 40px auto 0 auto;
        }

        .archive-top-row {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            gap: 16px;
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 24px;
            margin: 0 0 6px 0;
        }

        .section-ai {
            color: var(--accent-blue);
        }

        .section-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 4px;
            margin-bottom: 22px;
            max-width: 760px;
        }

        .manip-counter {
            font-size: 11px;
            color: var(--text-muted);
            white-space: nowrap;
            margin-bottom: 6px;
        }

        .manip-counter-label {
            opacity: 0.8;
            margin-right: 4px;
        }

        .manip-counter-value {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--accent-blue);
        }

        @media (max-width: 720px) {
            .archive-top-row {
                flex-direction: column;
                align-items: flex-start;
            }
            .manip-counter {
                margin-bottom: 0;
            }
        }

        /* –§–∏–ª—å—Ç—Ä—ã: –ø–æ–∏—Å–∫ + —Å—Ç–∞—Ç—É—Å—ã */

        .archive-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            align-items: center;
            margin-bottom: 16px;
        }

        .archive-search {
            flex: 1 1 260px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 9px 16px;
            border-radius: 999px;
            background-color: rgba(15,23,42,0.96);
            border: 1px solid rgba(51,65,85,0.9);
        }

        .archive-search-icon {
            font-size: 15px;
            opacity: 0.9;
        }

        .archive-search input {
            flex: 1;
            border: none;
            background: transparent;
            color: #e5e7eb;
            font-size: 14px;
        }

        .archive-search input::placeholder {
            color: rgba(148,163,184,0.85);
        }

        .status-chips-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: auto;
        }

        .status-chips {
            display: inline-flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .chip {
            border-radius: 999px;
            padding: 6px 12px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            border: 1px solid rgba(51,65,85,0.9);
            background-color: rgba(15,23,42,0.96);
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.2s;
            white-space: nowrap;
        }

        .chip:hover {
            border-color: var(--accent-blue);
            color: #e5e7eb;
        }

        .chip-active {
            background: radial-gradient(circle at top, rgba(34,211,238,0.28), transparent 70%);
            border-color: rgba(56,189,248,0.9);
            color: #f9fafb;
            box-shadow: 0 0 18px rgba(56,189,248,0.45);
        }

        @media (max-width: 720px) {
            .status-chips-wrapper {
                width: 100%;
                justify-content: flex-start;
                margin-left: 0;
            }
        }

        /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ */

        .archive-header-row {
            display: grid;
            grid-template-columns: 0.9fr 0.8fr 2.4fr 0.7fr 0.9fr 0.8fr;
            gap: 12px;
            padding: 10px 16px;
            margin-top: 8px;
            margin-bottom: 6px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            color: var(--text-muted);
            border-bottom: 1px solid rgba(31,41,55,0.9);
        }

        @media (max-width: 900px) {
            .archive-header-row {
                display: none;
            }
        }

        /* –°—Ç—Ä–æ–∫–∏ —Å–ø–∏—Å–∫–∞ + –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ */

        .archive-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 520px;
            overflow-y: auto;
            padding-right: 4px;
        }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä (–º—è–≥–∫–∏–π) */
        .archive-list::-webkit-scrollbar {
            width: 6px;
        }
        .archive-list::-webkit-scrollbar-track {
            background: rgba(15,23,42,0.8);
        }
        .archive-list::-webkit-scrollbar-thumb {
            background: rgba(51,65,85,0.9);
            border-radius: 999px;
        }
        .archive-list::-webkit-scrollbar-thumb:hover {
            background: rgba(71,85,105,1);
        }

        .archive-item {
            position: relative;
            border-radius: 18px;
            background:
                radial-gradient(circle at bottom, rgba(34,211,238,0.16), transparent 70%),
                var(--bg-panel-soft);
            border: 1px solid rgba(31,41,55,0.9);
            box-shadow:
                0 16px 40px rgba(0,0,0,0.85),
                0 -4px 14px rgba(15,23,42,0.9);
            overflow: hidden;
            transition:
                border-color 0.22s ease-out,
                box-shadow 0.22s ease-out,
                transform 0.22s ease-out,
                opacity 0.25s ease-out;
            opacity: 1;
        }

        .archive-item:hover {
            transform: translateY(-2px);
            border-color: rgba(56,189,248,0.9);
            box-shadow:
                0 26px 70px rgba(0,0,0,1),
                0 0 34px rgba(56,189,248,0.45);
        }

        .archive-summary {
            padding: 14px 18px;
            display: grid;
            grid-template-columns: 0.9fr 0.8fr 2.4fr 0.7fr 0.9fr 0.8fr;
            gap: 12px;
            align-items: center;
            cursor: pointer;
        }

        @media (max-width: 900px) {
            .archive-summary {
                grid-template-columns: 1.4fr 2.4fr;
                grid-template-rows: auto auto auto;
                row-gap: 6px;
            }

            .cell-media { grid-column: 1 / 2; grid-row: 1; }
            .cell-time { grid-column: 2 / 3; grid-row: 1; justify-self: flex-end; font-size: 11px; }
            .cell-title { grid-column: 1 / 3; grid-row: 2; }
            .cell-index { grid-column: 1 / 2; grid-row: 3; }
            .cell-category { grid-column: 2 / 3; grid-row: 3; justify-self: flex-start; }
            .cell-button { display: none; }
        }

        .cell-media {
            font-size: 14px;
            font-weight: 500;
        }

        .cell-time {
            font-size: 13px;
            color: var(--text-muted);
        }

        .cell-title {
            font-size: 14px;
            line-height: 1.6;
            color: #e5e7eb;
        }

        .cell-index {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 16px;
        }

        .index-red { color: var(--accent-red); }
        .index-yellow { color: var(--accent-yellow); }
        .index-green { color: var(--accent-green); }

        .cell-category {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(75,85,99,0.9);
            background-color: rgba(15,23,42,0.96);
            color: var(--text-muted);
            white-space: nowrap;
        }

        .cell-category.danger {
            border-color: rgba(239,68,68,0.85);
            color: #fecaca;
        }

        .cell-category.risky {
            border-color: rgba(234,179,8,0.85);
            color: #fef3c7;
        }

        .cell-category.neutral {
            border-color: rgba(22,163,74,0.75);
            color: #bbf7d0;
        }

        .cell-button {
            text-align: right;
        }

        .more-btn {
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid rgba(148,163,184,0.9);
            background-color: rgba(15,23,42,0.96);
            color: #e5e7eb;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            cursor: pointer;
            transition: 0.2s;
            white-space: nowrap;
        }

        .more-btn:hover {
            border-color: rgba(56,189,248,0.9);
            color: var(--accent-blue);
        }

        .archive-details {
            border-top: 1px solid rgba(31,41,55,0.9);
            padding: 10px 18px 12px 18px;
            font-size: 12px;
            color: var(--text-muted);
            display: none;
            background: radial-gradient(circle at top, rgba(15,23,42,0.9), transparent 70%);
        }

        .archive-details.open {
            display: block;
        }

        .details-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 6px;
        }

        .tag-pill {
            font-size: 11px;
            padding: 3px 9px;
            border-radius: 999px;
            background-color: rgba(15,23,42,0.95);
            border: 1px solid rgba(75,85,99,0.9);
        }

        .tag-pill.alert {
            border-color: rgba(239,68,68,0.9);
            color: #fecaca;
        }

        .tag-pill.soft {
            border-color: rgba(56,189,248,0.7);
            color: #e0f2fe;
        }

        .details-text {
            margin-top: 4px;
            line-height: 1.6;
        }

        .details-meta {
            margin-top: 6px;
            font-size: 11px;
            opacity: 0.85;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è */

        .archive-item.fade-out {
            opacity: 0;
            transform: translateY(4px);
        }

        .archive-item.fade-in {
            opacity: 1;
            transform: translateY(0);
        }

        /* –ü–æ–¥–ø–∏—Å—å –æ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ */

        .realtime-note {
            font-size: 11px;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 8px;
        }

        .rt-dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background-color: var(--accent-green);
            box-shadow: 0 0 12px rgba(34,197,94,0.85);
            animation: pulse 1.4s ease-out infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.4); opacity: 0.6; }
            100% { transform: scale(1); opacity: 1; }
        }

        @media (max-width: 700px) {
            .container {
                padding-top: 28px;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="header-inner">
        <div class="navbar">
            <div class="brand-title">–ú–ï–î–ò–ê.<span>–°–¢–†–ê–ñ</span></div>

            <nav>
                <div class="nav-links">
                    <a href="index.html"><span>–†–ï–ô–¢–ò–ù–ì</span></a>
                    <a href="about.html"><span>–û –ü–†–û–ï–ö–¢–ï</span></a>
                    <a href="method.html"><span>–ú–ï–¢–û–î–ò–ö–ê</span></a>
                    <a href="archive.html" class="nav-active"><span>–ê–†–•–ò–í</span></a>
                </div>
            </nav>

            <button class="support-button">–ü–û–î–î–ï–†–ñ–ê–¢–¨</button>
        </div>
        <div class="header-glow"></div>
    </div>
</header>

<div class="container">

    <!-- –°–ï–ö–¶–ò–Ø –ê–†–•–ò–í–ê -->
    <section class="archive-section">

        <div class="archive-top-row">
            <h2 class="section-title">–ê—Ä—Ö–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π <span class="section-ai">–ò–ò</span></h2>
            <div class="manip-counter">
                <span class="manip-counter-label">–ú–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≤—ã–±–æ—Ä–∫–µ:</span>
                <span class="manip-counter-value" id="manipCounter">0</span>
            </div>
        </div>

        <p class="section-subtitle">
            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –∏–∑–¥–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª–∏—Ä—É—é—Ç —Å–≤–æ—é –ø–æ–≤–µ—Å—Ç–∫—É:
            –æ—Ç –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ <strong>–æ–ø–∞—Å–Ω—ã—Ö</strong> —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ —Å–ø–æ—Ä–Ω—ã—Ö –∏ –ø–æ—á—Ç–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö.
        </p>

        <div class="archive-filters">
            <div class="archive-search">
                <span class="archive-search-icon">üîç</span>
                <input id="searchInput" type="text" placeholder="–ù–∞–π—Ç–∏ –ø–æ –°–ú–ò, –∑–∞–≥–æ–ª–æ–≤–∫—É –∏–ª–∏ —Ç–∏–ø—É –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏">
            </div>

            <div class="status-chips-wrapper">
                <div class="status-chips">
                    <button class="chip chip-active" data-status="all">–í—Å–µ</button>
                    <button class="chip" data-status="danger">–û–ø–∞—Å–Ω—ã–µ</button>
                    <button class="chip" data-status="risky">–°–ø–æ—Ä–Ω—ã–µ</button>
                    <button class="chip" data-status="neutral">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ</button>
                </div>
            </div>
        </div>

        <div class="archive-header-row">
            <div>–°–ú–ò</div>
            <div>–í—Ä–µ–º—è</div>
            <div>–°–æ–æ–±—â–µ–Ω–∏–µ</div>
            <div>–ò–Ω–¥–µ–∫—Å</div>
            <div>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
            <div></div>
        </div>

        <div class="archive-list" id="archiveList">
            <!-- –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>

        <div class="realtime-note" id="rtNote">
            <span class="rt-dot"></span>
            <span id="rtText">–ü–æ—Ç–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.</span>
        </div>
    </section>

</div>

<script>
    // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏–π
    const messages = [
        {
            media: "¬´–ü—Ä–∏–º–µ—Ä.–¢–í¬ª",
            time: "—Ç–æ–ª—å–∫–æ —á—Ç–æ",
            title: "¬´–í–ª–∞—Å—Ç–∏ –≤ –ø–∞–Ω–∏–∫–µ: —ç–∫—Å–ø–µ—Ä—Ç—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—Ç –æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–µ —É–∂–µ –∑–∞–≤—Ç—Ä–∞¬ª",
            index: 82,
            indexClass: "index-red",
            category: "–û–ø–∞—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "danger",
            tags: ["–¥–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö–æ–º", "–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏—á–µ—Å–∫–∏–π —Ç–æ–Ω", "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∞–∫—Ç–æ–≤"],
            explain: "–ú–æ–¥–µ–ª—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ—á–µ—Ç–∞–Ω–∏–µ –≥–∏–ø–µ—Ä–±–æ–ª (¬´–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞¬ª) –∏ —Å—Ä–æ—á–Ω–æ–≥–æ —Ç–∞–π–º-–ø—Ä–µ—Å—Å–∏–Ω–≥–∞ (¬´—É–∂–µ –∑–∞–≤—Ç—Ä–∞¬ª), –ø—Ä–∏ —ç—Ç–æ–º –≤ —Ç–µ–∫—Å—Ç–µ –Ω–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ø–æ–ª–∏—Ç–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫ –Ω–æ–≤–æ—Å—Ç–Ω–æ–º—É —Å—é–∂–µ—Ç—É"
        },
        {
            media: "¬´–ù–æ–≤–æ—Å—Ç–∏.–†–£¬ª",
            time: "1 –º–∏–Ω—É—Ç–∞ –Ω–∞–∑–∞–¥",
            title: "¬´–≠–∫–æ–Ω–æ–º–∏–∫–∞ —Ä—É—Ö–Ω—É–ª–∞: —Ü–µ–Ω—ã –≤–∑–ª–µ—Ç–µ–ª–∏ –¥–æ –Ω–µ–±–µ—Å –∏–∑-–∑–∞ –Ω–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è¬ª",
            index: 76,
            indexClass: "index-red",
            category: "–û–ø–∞—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "danger",
            tags: ["–≥–∏–ø–µ—Ä–±–æ–ª—ã", "–ø–æ–∏—Å–∫ –≤–∏–Ω–æ–≤–∞—Ç—ã—Ö", "–æ—Ü–µ–Ω–æ—á–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞"],
            explain: "–°–ª–æ–≤–∞ ¬´—Ä—É—Ö–Ω—É–ª–∞¬ª –∏ ¬´–¥–æ –Ω–µ–±–µ—Å¬ª –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –≥–∏–ø–µ—Ä–±–æ–ª—ã. –í–∏–Ω–æ–≤–Ω–∏–∫ –Ω–∞–∑–≤–∞–Ω, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–±–æ—Ä –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: —ç–∫–æ–Ω–æ–º–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Ç–µ–∫—Å—Ç"
        },
        {
            media: "¬´–ì–æ—Ä–æ–¥ Online¬ª",
            time: "3 –º–∏–Ω—É—Ç—ã –Ω–∞–∑–∞–¥",
            title: "¬´–ü–æ –¥–∞–Ω–Ω—ã–º –æ–ø—Ä–æ—Å–∞, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≥–æ—Ä–æ–∂–∞–Ω —Å—á–∞—Å—Ç–ª–∏–≤—ã¬ª",
            index: 48,
            indexClass: "index-yellow",
            category: "–°–ø–æ—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "risky",
            tags: ["–æ–±–æ–±—â–µ–Ω–∏–µ", "–Ω–µ–ø–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫"],
            explain: "–£–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è ¬´–æ–ø—Ä–æ—Å¬ª, –Ω–æ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Ç–æ–¥–∏–∫–µ –∏ –≤—ã–±–æ—Ä–∫–µ. –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ ¬´–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≥–æ—Ä–æ–∂–∞–Ω¬ª –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–æ–±—â–µ–Ω–∏–µ.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –æ–±—â–µ—Å—Ç–≤–æ ¬∑ –§–æ—Ä–º–∞—Ç: –∑–∞–º–µ—Ç–∫–∞"
        },
        {
            media: "¬´–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ.–ò–Ω—Ñ–æ¬ª",
            time: "5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥",
            title: "¬´–ú–∏–Ω—Ñ–∏–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª –æ—Ç—á—ë—Ç –æ —Ä–æ—Å—Ç–µ –¥–æ—Ö–æ–¥–æ–≤ –±—é–¥–∂–µ—Ç–∞ –∑–∞ –≥–æ–¥¬ª",
            index: 18,
            indexClass: "index-green",
            category: "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "neutral",
            tags: ["–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫", "–æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–∫—Ç–∞"],
            explain: "–í –∑–∞–≥–æ–ª–æ–≤–∫–µ –Ω–µ—Ç –æ—Ü–µ–Ω–æ—á–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏ —Å–∫—Ä—ã—Ç–æ–π –ø—Ä–∏—á–∏–Ω–Ω–æ—Å—Ç–∏. –û–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–∫—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: —ç–∫–æ–Ω–æ–º–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –Ω–æ–≤–æ—Å—Ç–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞"
        },
        {
            media: "¬´–ü–æ–ª–∏—Ç.–õ–µ–Ω—Ç–∞¬ª",
            time: "8 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥",
            title: "¬´–ü–∞–Ω–∏–∫—ë—Ä—ã —Å–Ω–æ–≤–∞ –ø—ã—Ç–∞—é—Ç—Å—è —Å–æ—Ä–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ —Å—Ç—Ä–∞–Ω–µ¬ª",
            index: 84,
            indexClass: "index-red",
            category: "–û–ø–∞—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "danger",
            tags: ["–æ–±—Ä–∞–∑ –≤—Ä–∞–≥–∞", "—è—Ä–ª—ã–∫ ¬´–ø–∞–Ω–∏–∫—ë—Ä—ã¬ª", "–ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏—è"],
            explain: "–¢–µ–∫—Å—Ç —Å—Ç—Ä–æ–∏—Ç —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ¬´–º—ã ‚Äî –æ–Ω–∏¬ª, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è—Ä–ª—ã–∫ ¬´–ø–∞–Ω–∏–∫—ë—Ä—ã¬ª –∏ –Ω–µ —É—Ç–æ—á–Ω—è–µ—Ç, –æ –∫–æ–º –∏–º–µ–Ω–Ω–æ —Ä–µ—á—å.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ø–æ–ª–∏—Ç–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –∞–≤—Ç–æ—Ä—Å–∫–∞—è –∫–æ–ª–æ–Ω–∫–∞"
        },
        {
            media: "¬´–≠–∫—Å–ø–µ—Ä—Ç+¬ª",
            time: "10 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥",
            title: "¬´–ü–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–æ–Ω–∞ –ª—é–¥–∏ –º–∞—Å—Å–æ–≤–æ –±–µ–¥–Ω–µ—é—Ç¬ª",
            index: 61,
            indexClass: "index-yellow",
            category: "–°–ø–æ—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "risky",
            tags: ["–ª–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–Ω–æ—Å—Ç—å", "–æ–±–æ–±—â–µ–Ω–∏–µ"],
            explain: "–§—Ä–∞–∑–∞ ¬´–ø–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–æ–Ω–∞¬ª –ø–æ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –ø—Ä–∏—á–∏–Ω–∞ ¬´–º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–µ–¥–Ω–µ–Ω–∏—è¬ª, –±–µ–∑ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: —ç–∫–æ–Ω–æ–º–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç—å—è"
        },
        {
            media: "¬´–†–µ–ø–æ—Ä—Ç—ë—Ä¬ª",
            time: "12 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥",
            title: "¬´90% –∂–∏—Ç–µ–ª–µ–π –ø–æ–¥–¥–µ—Ä–∂–∞–ª–∏ —Ä–µ—Ñ–æ—Ä–º—É, –ø–æ–∫–∞–∑–∞–ª –æ–ø—Ä–æ—Å¬ª",
            index: 54,
            indexClass: "index-yellow",
            category: "–°–ø–æ—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "risky",
            tags: ["–ø—Å–µ–≤–¥–æ—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "–Ω–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞"],
            explain: "–£–∫–∞–∑–∞–Ω–∞ —Ç–æ—á–Ω–∞—è —Ü–∏—Ñ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç–æ–¥–∏–∫—É –æ–ø—Ä–æ—Å–∞.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –æ–±—â–µ—Å—Ç–≤–æ ¬∑ –§–æ—Ä–º–∞—Ç: –Ω–æ–≤–æ—Å—Ç—å"
        },
        {
            media: "¬´–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –≤–∑–≥–ª—è–¥¬ª",
            time: "15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥",
            title: "¬´–ú–∏–Ω—Ñ–∏–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª –ø–æ–¥—Ä–æ–±–Ω—É—é —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É —Ä–∞—Å—Ö–æ–¥–æ–≤ –±—é–¥–∂–µ—Ç–∞¬ª",
            index: 22,
            indexClass: "index-green",
            category: "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            status: "neutral",
            tags: ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ", "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ü–µ–Ω–∫–∏"],
            explain: "–°–æ–æ–±—â–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç –∏ –Ω–µ –¥–µ–ª–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ü–µ–Ω–æ—á–Ω—ã—Ö –≤—ã–≤–æ–¥–æ–≤.",
            meta: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: —ç–∫–æ–Ω–æ–º–∏–∫–∞ ¬∑ –§–æ—Ä–º–∞—Ç: –Ω–æ–≤–æ—Å—Ç—å"
        }
    ];

    const archiveList = document.getElementById('archiveList');
    const searchInput = document.getElementById('searchInput');
    const chips = document.querySelectorAll('.chip');
    const rtText = document.getElementById('rtText');
    const manipCounterEl = document.getElementById('manipCounter');

    let currentStatusFilter = 'all';
    let currentSearch = '';
    let visiblePool = [...messages]; // —Ç–µ–∫—É—â–∞—è –≤—ã–±–æ—Ä–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–æ—Ç–∞—Ü–∏–∏
    let lastUpdateIdx = 0;

    function createArchiveItem(msg) {
        const item = document.createElement('article');
        item.className = 'archive-item';

        item.innerHTML = `
            <div class="archive-summary">
                <div class="cell-media">${msg.media}</div>
                <div class="cell-time">${msg.time}</div>
                <div class="cell-title">${msg.title}</div>
                <div class="cell-index ${msg.indexClass}">${msg.index}</div>
                <div class="cell-category ${msg.status === 'danger' ? 'danger' : msg.status === 'risky' ? 'risky' : 'neutral'}">
                    ${msg.category}
                </div>
                <div class="cell-button">
                    <button class="more-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                </div>
            </div>
            <div class="archive-details">
                <div class="details-row">
                    ${msg.tags.map(tag => `
                        <span class="tag-pill ${msg.status === 'danger' ? 'alert' : 'soft'}">${tag}</span>
                    `).join('')}
                </div>
                <div class="details-text">${msg.explain}</div>
                <div class="details-meta">${msg.meta}</div>
            </div>
        `;

        const summary = item.querySelector('.archive-summary');
        const btn = item.querySelector('.more-btn');
        const details = item.querySelector('.archive-details');

        function toggleDetails(e) {
            if (e.target.tagName === 'BUTTON' || e.target === summary || e.target.closest('.archive-summary')) {
                e.preventDefault();
                details.classList.toggle('open');
            }
        }

        summary.addEventListener('click', toggleDetails);
        if (btn) btn.addEventListener('click', toggleDetails);

        return item;
    }

    function updateCounter() {
        if (!manipCounterEl) return;
        const manipCount = visiblePool.filter(m => m.status === 'danger' || m.status === 'risky').length;
        manipCounterEl.textContent = manipCount;
    }

    function applyFilters() {
        const term = currentSearch.trim().toLowerCase();

        visiblePool = messages.filter(msg => {
            const matchStatus = currentStatusFilter === 'all' || msg.status === currentStatusFilter;
            const fullText = (msg.media + ' ' + msg.title + ' ' + msg.category + ' ' + msg.tags.join(' ') + ' ' + msg.meta).toLowerCase();
            const matchSearch = !term || fullText.includes(term);
            return matchStatus && matchSearch;
        });

        updateCounter();
        renderList(true);
    }

    function renderList(withAnimation) {
        archiveList.innerHTML = '';

        const toShow = visiblePool;
        toShow.forEach(msg => {
            const item = createArchiveItem(msg);
            if (withAnimation) {
                item.classList.add('fade-in');
                setTimeout(() => item.classList.remove('fade-in'), 350);
            }
            archiveList.appendChild(item);
        });

        if (!toShow.length) {
            const empty = document.createElement('div');
            empty.style.fontSize = '13px';
            empty.style.color = 'var(--text-muted)';
            empty.style.marginTop = '8px';
            empty.textContent = '–°–æ–æ–±—â–µ–Ω–∏—è –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.';
            archiveList.appendChild(empty);
        }
    }

    // –ñ–∏–≤–∞—è "—Ä–æ—Ç–∞—Ü–∏—è" –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    function rotateOneRow() {
        const items = archiveList.querySelectorAll('.archive-item');
        if (!items.length || visiblePool.length <= 1) return;

        const idx = lastUpdateIdx % items.length;
        lastUpdateIdx++;

        const targetItem = items[idx];
        targetItem.classList.add('fade-out');

        setTimeout(() => {
            const replacementIdx = Math.floor(Math.random() * visiblePool.length);
            const msg = visiblePool[replacementIdx];
            const newItem = createArchiveItem(msg);
            newItem.classList.add('fade-in');

            archiveList.replaceChild(newItem, targetItem);

            setTimeout(() => newItem.classList.remove('fade-in'), 350);

            const now = new Date();
            const timeStr = now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
            rtText.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ ‚Äî ' + timeStr + ' (–¥–µ–º–æ-—Ä–µ–∂–∏–º).';
        }, 260);
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    chips.forEach(chip => {
        chip.addEventListener('click', () => {
            chips.forEach(c => c.classList.remove('chip-active'));
            chip.classList.add('chip-active');
            currentStatusFilter = chip.getAttribute('data-status');
            applyFilters();
        });
    });

    searchInput.addEventListener('input', (e) => {
        currentSearch = e.target.value;
        applyFilters();
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    applyFilters();
    // –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –∂–∏–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    setInterval(rotateOneRow, 5000);
</script>

</body>
</html>
